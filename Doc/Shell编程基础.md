# Shell编程基础

前景回顾：

100台机器的免密登录：

可以选其中的一台电脑作为主控节点，将其他机器的秘钥传到该电脑上，剩余的机器从该电脑上下载秘钥即可。

man手册搜索　－－－>  /要搜索的字符　小写n 大写n进行上一个或下一个搜索

---

**shell 是解释型语言**

> [解释型语言与编译型语言](https://blog.csdn.net/u014647208/article/details/78329187) 
>
> 将高级语言翻译为机器语言的两种方式为：编译、解释
>
>  解释型语言在执行的时候才翻译，兼容性好，易跨平台
>
> 编译型语言，编译的时候翻译一次就行，以后的运行都不用翻译，效率高
>
> **shell脚本**
>
> shell脚本是利用shell的功能所写的一个程序，这个程序是<u>纯文本文件</u>，将一些shell的语法指令（含外部指令）写在里面，搭配正则表达式、管线命令与数据流重导向等功能，以达到我们所想要处理的目的。　它可以被简单的看做是批处理文件，将多个命令添加到一个文本文件，只需执行该文件就完成了多条命令的执行。





bash?

＃！路径　放在第一行

`#!`告诉系统其后路径指定的程序即是解释此脚本文件的shell程序

告诉执行器

注释以＃开头

bash 文件名　进行编译

chmod a+x 文件名　给予文件可执行权限

shell语法中变量赋值时等号左右两边不能有空格

｀｀是命令替换符，将当前的替换成命令的输出结果

$变量引用符　要输出变量时要用这个符号

$后加大括号是对$符的作用域限定

位置变量：

$* 获取所有参数并将所有参数拼接在一起　组成一个字符串

$@  获取所有参数但每个参数单独为一个字符串



/dev/null /dev/zero 是linux的两个黑洞　给他们什么都会丢掉

流程控制　－　if

if [[ condition ]]; then

fi

该if语句中两个中括号和条件语句与中括号之间的空格是必须的，结束标志是　fi

`shell中的空格是很严格的`

由结果可发现，shell中变量没有类型！根据表达式自动改变其类型！还发现一个问题，表达式不能计算结果，变成了字符串的拼接！

所以要用赋值关键字

1、赋值关键字let

使用方法：let 变量名 = 表达式　　或者双圆括号



测试表达式？

a=(`seq 1 100`) 

b=$[$a+1]

if要用中括号　因为是test表达式

if使用 [[ ... ]] 条件判断结构，而不是 [ ... ]，能够防止脚本中的许多逻辑错误。比如，**&&**、**||**、**<** 和 **>** 操作符能够正常存在于 **[[ ]]** 条件判断结构中，但是如果出现在 **[ ]** 结构中的话，会报错。 

for用圆括号





for i in `ls`; do

strings



shell运算

乘号(*)前边必须加反斜杠(\)才能实现乘法运算

布尔运算符

！非运算

-o　或运算 

-a　与运算

字符串运算符

= 是否相等

!=　是否不等

-z　字符串长度是否为０，为０返回真

-n　字符串长度是否为０，不为０返回真

str　字符串是否为为空，不空返回真





-r 删除整个目录

-f 但文件不存在时删除不给于确认

啥都不加　删除不存在文件时给予提示