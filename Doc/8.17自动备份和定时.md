# 8.17

### 1. 遍历给定目录下的所有文件和目录包括隐藏文件(travel.sh)

### 2. 定时自动备份项目

根据一个软件的系统级别和用户级别的配置文件

**tar**　**压缩和解压命令**

-c: 建立压缩档案
-x：解压
-t：查看内容
-r：向压缩归档文件末尾追加文件
-u：更新原压缩包中的文件

这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面的参数是根据需要在压缩或解压档案时可选的。
-z：有gzip属性的
-j：有bz2属性的
-Z：有compress属性的
-v：显示所有过程
-O：将文件解开到标准输出

下面的参数-f是必须的

-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。

**cut**

 

tr 替换



du -m 文件

在脚本开头加　sourch 脚本名 　就将当前脚本的变量加载到了工作区

压缩成　.tar.gz

find . -name *.tar.gz -mmin +3

tail -f wenjianming

#### 修改vim的配置在vim.rc文件中，一般软件的配置文件都是以.rc做后缀的，rc代表资源的缩写

---

#### 定时执行脚本

**一. crontab的使用命令和基本知识普及**

1. crond 是linux用来定期执行程序的命令。当安装完成操作系统之后，默认便会启动此任务调度命令。crond命令每分钟会定期检查是否有要执行的工作，如果有要执行的工作便会自动执行该工作。而linux任务调度的工作主要分为以下两类

   - 系统执行的工作，比如垃圾清理，备份
   - 用户自定义的工作，比如每5分钟执行一次脚本

   

2. crontab是UNIX系统下定期执行任务的触发器。用户把要定期执行的任务记录在这个文件下面，然后crond定期的去检查这个定期执行列表，有要执行的工作时便自动执行。

   

3. crontab常用的几个命令格式

   crontab -l //显示用户的crontab文件的内容

   crontab -e //编辑用户的crontab文件的内容

   crontab -r //删除用户的crontab文件

   

4. crontab中添加的自动执行的命令形式

   \*	*	*	*	*    command

   分   时   天   月   周         命令(或脚本的绝对路径)

   每列表示意义

   a. 第一个*表示的是分钟1～59分钟，\*表示默认 *表示的是每分钟都执行，x-y表示的是x～y这段每分钟都执行，*/n表示每n分钟执行一次，x,y,z表示的是x,y,z分钟都执行。

   b. 第二个*表示的是小时1~23小时，默认*表示的是每小时都执行，x-y表示的是x～y这段每小时都执行，*/n表示每n小时执行一次，x,y,z表示的是x,y,z小时都执行。

   c. 第三个*表示的是天1~31，默认*表示的是每天都执行，x-y表示的是x～y这段每天都执行，*/n表示每n天执行一次，x,y,z表示的是x,y,z天都执行。

   d. 第四个*表示的是月1～12，默认*表示的是每个月都执行，x-y表示的是x～y这个段每月都执行，*/n表示每n分钟执行一次，x,y,z表示的是x,y,z天都执行。

   e. 第五个*表示的是周0～6（0表示周天），默认周一～周天都执行，x-y表示周x～周y每天都执行。



***具体操作***

> 1. 先输入crontab -e
> 2. 进入crontab文件后输入命令如下所示
> 3. \*  *  *  *  * /home/acnowa/backup_data/backup.sh #表示每分钟执行脚本一次

